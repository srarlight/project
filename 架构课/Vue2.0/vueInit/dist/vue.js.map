{"version":3,"file":"vue.js","sources":["../src/observer/observerArray.js","../src/observer/dep.js","../src/observer/index.js","../src/state.js","../src/compile/generate.js","../src/compile/parser.js","../src/compile/index.js","../src/vdom/patch.js","../src/observer/watcher.js","../src/lifecycle.js","../src/init.js","../src/vdom/index.js","../src/render.js","../src/index.js"],"sourcesContent":["const oldArrayProtoMethods = Array.prototype;\nexport let arrayMethods = Object.create(oldArrayProtoMethods);\n//重写七大方法\nlet methods = ['push', 'shift', 'unshift', 'splice', 'pop', 'sort', 'reverse'];\nmethods.forEach(method => {\n    arrayMethods[method] = function (...args) {\n        console.log(args)\n        const result = oldArrayProtoMethods[method].apply(this, args);\n        const ob = this.__ob__;\n        let inserted;\n        switch (method) {\n            case 'push':\n            case 'unshift':\n                inserted = args;\n                break;\n            case 'splice':\n                inserted = args.splice(2);\n                break;\n            default:\n                break;\n        }\n        if (inserted) ob.observeArray(inserted)\n        return result\n    }\n})","let id = 0;\nexport default class Dep {\n    constructor() {\n        this.id = id++;\n        this.watchers = []\n    }\n    append(){\n        Dep.target.addDep(this) //watcher和dep要互相存值\n    }\n    appendWatcher(watcher){\n        this.watchers.push(watcher)\n    }\n}\nDep.target = null;\nexport  function pushTarget(watcher){\n    Dep.target = watcher;\n}\n\nexport function popTarget(){\n    Dep.target = null;\n}","import {arrayMethods} from \"./observerArray\";\nimport Dep from \"./dep\";\n\n\nclass Observer {\n    constructor(data) {\n        Object.defineProperty(data,'__ob__',{\n            enumerable:false,//不可枚举\n            configurable:false,//不可以更改\n            value:this\n        })\n        if(Array.isArray(data)){\n            data.__proto__ = arrayMethods;\n            this.observeArray(data) //数组劫持\n        }else {\n            this.walk(data) //对象劫持\n        }\n    }\n    observeArray(data){\n        data.forEach(item=>observe(item))\n    }\n    walk(data) {\n        Object.keys(data).forEach(key => {\n            defineReactive(data, key, data[key])\n        })\n    }\n}\n\nfunction defineReactive(data, key, value) {\n\n    observe(value);\n    let dep = new Dep();\n    Object.defineProperty(data, key, {\n        get() {\n            //收集依赖\n            if(Dep.target){ //如果这个属性是在模版中获取的\n                dep.append()\n            }\n            return value\n        }\n        ,\n        set(v) {\n            console.log(v,'数据更新了')\n            //更新视图\n            if (v === value) return;\n            observe(v) //如果赋值的是一个新对象 要重新对这个对象进行劫持\n            value = v;\n\n        }\n    })\n}\n\nexport function observe(data) {\n    \n    //如果是对象才观测\n    if (!(typeof data === 'object' && data !== null)) {\n        return\n    }\n    return new Observer(data)\n}","import {observe} from \"./observer/index\";\nfunction proxy(vm,key,source) {\n    Object.defineProperty(vm,key, {\n        get(){\n            return vm[source][key]\n        },\n        set(newVal){\n            vm[source][key] = newVal;\n        }\n    })\n}\nfunction initData(vm) {\n    let data = vm.$options.data;\n    vm._data = data  = typeof data === 'function'?data.call(vm):data;\n    //数据代理\n    //vm._data.xxx =>vm.xxx\n    for (const key in data) {\n        proxy(vm,key,'_data')\n    }\n    observe(data)\n}\n\nfunction initProps(vm) {\n\n}\n\nfunction initMethods(vm) {\n\n}\n\nfunction initComputed(vm) {\n\n}\n\nfunction initWatch(vm) {\n\n}\n\nexport function initState(vm){\n    console.log(vm)\n    const options = vm.$options;\n    // if(options.props){\n    //     initProps(vm)\n    // }\n    //\n    // if(options.methods){\n    //     initMethods(vm)\n    // }\n    if(options.data){\n        initData(vm)\n    }\n    // if(options.computed){\n    //     initComputed(vm)\n    //\n    // }\n    // if(options.watch){\n    //     initWatch(vm)\n    // }\n}","const defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g; // {{aaaaa}}\n\n\n// html字符串 =》 字符串  _c('div',{id:'app',a:1},'hello')\n\nfunction genProps(attrs) { // [{name:'xxx',value:'xxx'},{name:'xxx',value:'xxx'}]\n    let str = '';\n    for (let i = 0; i < attrs.length; i++) {\n        let attr = attrs[i];\n        if (attr.name === 'style') { // color:red;background:blue\n            let styleObj = {};\n            attr.value.replace(/([^;:]+)\\:([^;:]+)/g, function() {\n                styleObj[arguments[1]] = arguments[2]\n            })\n            attr.value = styleObj\n        }\n        str += `${attr.name}:${JSON.stringify(attr.value)},`;\n    }\n    return `{${str.slice(0,-1)}}`\n}\n\nfunction gen(el) {\n    if (el.type == 1) { // element = 1 text = 3\n        return generate(el);\n    } else {\n        let text = el.text;\n        if (!defaultTagRE.test(text)) {\n            return `_v('${text}')`;\n        } else {\n            // 'hello' + arr + 'world'    hello {{arr}} {{aa}} world\n            let tokens = [];\n            let match;\n            let lastIndex = defaultTagRE.lastIndex = 0; // CSS-LOADER 原理一样\n            while (match = defaultTagRE.exec(text)) { // 看有没有匹配到\n                let index = match.index; // 开始索引\n                if (index > lastIndex) {\n                    tokens.push(JSON.stringify(text.slice(lastIndex, index)))\n                }\n                tokens.push(`_s(${match[1].trim()})`); // JSON.stringify()\n                lastIndex = index + match[0].length;\n            }\n            if (lastIndex < text.length) {\n                tokens.push(JSON.stringify(text.slice(lastIndex)))\n            }\n            return `_v(${tokens.join('+')})`\n        }\n    }\n}\n\nfunction genChildren(el) {\n    let children = el.children; // 获取儿子\n    if (children) {\n        return children.map(c => gen(c)).join(',')\n    }\n    return false;\n}\n\nexport function generate(el) { //  _c('div',{id:'app',a:1},_c('span',{},'world'),_v())\n    // 遍历树 将树拼接成字符串\n    let children = genChildren(el);\n    let code = `_c('${el.tag}',${\n        el.attrs.length? genProps(el.attrs): 'undefined'\n    }${\n        children? `,${children}`:''\n    })`;\n\n    return code;\n}","const ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`; // 标签名 \nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`; //  用来获取的标签名的 match后的索引为1的\nconst startTagOpen = new RegExp(`^<${qnameCapture}`); // 匹配开始标签的 \nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`); // 匹配闭合标签的\n//           aa  =   \"  xxx \"  | '  xxxx '  | xxx\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/; // a=b  a=\"b\"  a='b'\nconst startTagClose = /^\\s*(\\/?)>/; //     />   <div/>\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g; // {{aaaaa}}\n\n\n// ast (语法层面的描述 js css html) vdom （dom节点）\n\n// html字符串解析成 对应的脚本来触发 tokens  <div id=\"app\"> {{name}}</div>\n// 将解析后的结果 组装成一个树结构  栈\nfunction createAstElement(tagName, attrs) {\n    return {\n        tag: tagName,\n        type: 1,\n        children: [],\n        parent: null,\n        attrs\n    }\n}\nlet root = null;\nlet stack = [];\nfunction start(tagName, attributes) {\n    let parent = stack[stack.length - 1];\n    let element = createAstElement(tagName, attributes);\n    if (!root) {\n        root = element;\n    }\n    if(parent){\n        element.parent = parent;// 当放入栈中时 继续父亲是谁\n        parent.children.push(element)\n    }\n    stack.push(element);\n}\nfunction end(tagName) {\n    let last = stack.pop();\n    if (last.tag !== tagName) {\n        throw new Error('标签有误');\n    }\n}\nfunction chars(text) {\n    text = text.replace(/\\s/g, \"\");\n    let parent = stack[stack.length - 1];\n    if (text) {\n        parent.children.push({\n            type: 3,\n            text\n        })\n    }\n}\n\nexport function parserHTML(html) {\n    function advance(len) {\n        html = html.substring(len);\n    }\n\n    function parseStartTag() {\n        const start = html.match(startTagOpen);\n        if (start) {\n            const match = {\n                tagName: start[1],\n                attrs: []\n            }\n            advance(start[0].length);\n            let end;\n            // 如果没有遇到标签结尾就不停的解析\n            let attr;\n\n            while (!(end = html.match(startTagClose)) && (attr = html.match(attribute))) {\n                match.attrs.push({ name: attr[1], value: attr[3] || attr[4] || attr[5] })\n                advance(attr[0].length)\n            }\n            if (end) {\n                advance(end[0].length);\n            }\n            return match;\n        }\n        return false; // 不是开始标签\n    }\n    while (html) { // 看要解析的内容是否存在，如果存在就不停的解析\n        let textEnd = html.indexOf('<'); // 当前解析的开头  \n        if (textEnd == 0) {\n            const startTagMatch = parseStartTag(html); // 解析开始标签\n            if (startTagMatch) {\n                start(startTagMatch.tagName, startTagMatch.attrs)\n                continue;\n            }\n            const endTagMatch = html.match(endTag);\n            if (endTagMatch) {\n                end(endTagMatch[1]);\n                advance(endTagMatch[0].length);\n                continue;\n            }\n        }\n        let text; // //  </div>\n        if (textEnd > 0) {\n            text = html.substring(0, textEnd)\n        }\n        if (text) {\n            chars(text);\n            advance(text.length);\n        }\n    }\n\n    return root;\n}\n\n\n// 看一下用户是否传入了 , 没传入可能传入的是 template, template如果也没有传递\n// 将我们的html =》 词法解析  （开始标签 ， 结束标签，属性，文本）\n// => ast语法树 用来描述html语法的 stack=[]\n\n// codegen  <div>hello</div>  =>   _c('div',{},'hello')  => 让字符串执行\n// 字符串如果转成代码 eval 好性能 会有作用域问题\n\n// 模板引擎 new Function + with 来实现","import { generate } from './generate';\nimport {parserHTML} from './parser';\n\nexport function compileToFunction(template) {\n    let root = parserHTML(template)\n    \n    // 生成代码 \n    let code = generate(root)\n\n    let render = new Function(`with(this){return ${code}}`); // code 中会用到数据 数据在vm上\n\n    return render;\n    // render(){\n    //     return\n    // }\n    // html=> ast（只能描述语法 语法不存在的属性无法描述） => render函数 + (with + new Function) => 虚拟dom （增加额外的属性） => 生成真实dom\n}\n","export function patch(oldVnode, vnode) {\n    if (oldVnode.nodeType == 1) {\n        // 用vnode  来生成真实dom 替换原本的dom元素\n        const parentElm = oldVnode.parentNode; // 找到他的父亲\n        let elm = createElm(vnode); //根据虚拟节点 创建元素\n        parentElm.insertBefore(elm, oldVnode.nextSibling);\n\n        parentElm.removeChild(oldVnode);\n    }\n}\n\nfunction createElm(vnode) {\n    let { tag, data, children, text, vm } = vnode\n    if (typeof tag === 'string') { // 元素\n        vnode.el = document.createElement(tag); // 虚拟节点会有一个el属性 对应真实节点\n        children.forEach(child => {\n            vnode.el.appendChild(createElm(child))\n        });\n    } else {\n        vnode.el = document.createTextNode(text);\n    }\n    return vnode.el\n}","import {pushTarget} from \"./dep\";\nimport {popTarget} from \"./dep\";\n\nexport default class Watcher {\n    constructor(vm, fn, cb, options) {\n        this.vm = vm;\n        this.fn = fn;\n        this.cb = cb;\n        this.options = options;\n        this.depIds = new Set();//存取dep里的id\n        this.deps = [];//存deep\n        this.get();\n    }\n\n    get() {\n        console.log('watcher')\n        pushTarget(this);//每个组件渲染 都会生成一个watcher,将其与dep绑定 dep.target = watcher;\n        this.fn(); //执行render方法\n        popTarget()\n    }\n\n    addDep(dep) {\n        console.log(dep)\n        const id = dep.id;\n        console.log(this.depIds)\n        if (!this.depIds.has(id)) {\n            this.depIds.add(id);\n            this.deps.push(dep);\n            \n            dep.appendWatcher(this)\n        }\n    }\n\n}","import { patch } from \"./vdom/patch\";\nimport Watcher from \"./observer/watcher\";\nexport function lifecycleMixin(Vue) {\n    Vue.prototype._update = function(vnode) {\n        // 既有初始化 又又更新 \n        const vm = this;\n        patch(vm.$el, vnode);\n    }\n}\nexport function mountComponent(vm, el) {\n    console.log(vm)\n    // 更新函数 数据变化后 会再次调用此函数\n    let updateComponent = () => {\n        // 调用render函数，生成虚拟dom\n        vm._update(vm._render()); // 后续更新可以调用updateComponent方法\n        // 用虚拟dom 生成真实dom\n    }\n    // updateComponent();\n\n    new Watcher(vm,updateComponent,()=>{\n        console.log('watcher')\n    }),{}\n}","import {initState} from \"./state\";\nimport {compileToFunction} from \"./compile/index\";\nimport {mountComponent} from \"./lifecycle\";\n\nexport function initMixin(Vue) {\n    Vue.prototype._init = function (options) {\n        /**\n         * options =》new Vue({\n         * el:'#app'\n         * data(){\n         *\n         * },\n         *\n         * )\n         *\n         * */\n        let vm = this;\n        vm.$options = options;\n        //初始化状态\n        initState(vm)\n        //挂载dom\n        if (vm.$options.el) {\n            vm.$mount(vm.$options.el)\n        }\n    }\n    Vue.prototype.$mount = function (el) {\n        const vm = this;\n        const options = vm.$options;\n        el = document.querySelector(el);\n        vm.$el = el;\n        if (!options.render) {\n            let template = options.template; //如果没有render函数 template\n            if(!template && el){ //template 就用el\n                //编译模版\n                template = el.outerHTML;\n                options.render = compileToFunction(template);\n            }\n        }\n        // options.render 就是渲染函数\n        // 调用render方法 渲染成真实dom 替换掉页面的内容\n        mountComponent(vm,el); // 组件的挂载流程\n\n    }\n}\n\n\n\n","export function createElement(vm, tag, data = {}, ...children) {\n    return vnode(vm, tag, data, data.key, children, undefined);\n}\n\nexport function createTextElement(vm, text) {\n    return vnode(vm, undefined, undefined, undefined, undefined, text);\n}\n\nfunction vnode(vm, tag, data, key, children, text) {\n    return {\n        vm,\n        tag,\n        data,\n        key,\n        children,\n        text,\n        // .....\n    }\n}","import { createElement, createTextElement } from \"./vdom/index\"\n\nexport function renderMixin(Vue){\n    Vue.prototype._c = function(){ // createElement\n        return createElement(this,...arguments)\n    }  \n    Vue.prototype._v = function (text) { // createTextElement\n        return createTextElement(this,text)\n    }\n    Vue.prototype._s = function(val){ // stringify \n        if(typeof val == 'object') return JSON.stringify(val)\n        return val;\n    }\n    Vue.prototype._render = function(){\n       const vm = this;\n       let render =  vm.$options.render; // 就是我们解析出来的render方法，同时也有可能是用户写的\n       let vnode =  render.call(vm);\n       return vnode;\n    }\n}","import {initMixin} from './init'\nimport {renderMixin} from \"./render\";\nimport {lifecycleMixin} from \"./lifecycle\";\n//初始化操作\nfunction Vue(option){\n    this._init(option);\n}\ninitMixin(Vue);\nrenderMixin(Vue); // _render\nlifecycleMixin(Vue); // _update\nexport default Vue"],"names":["oldArrayProtoMethods","Array","prototype","arrayMethods","Object","create","methods","forEach","method","args","console","log","result","apply","ob","__ob__","inserted","splice","observeArray","id","Dep","watchers","target","addDep","watcher","push","pushTarget","popTarget","Observer","data","defineProperty","enumerable","configurable","value","isArray","__proto__","walk","item","observe","keys","key","defineReactive","dep","get","append","set","v","proxy","vm","source","newVal","initData","$options","_data","call","initState","options","defaultTagRE","genProps","attrs","str","i","length","attr","name","styleObj","replace","arguments","JSON","stringify","slice","gen","el","type","generate","text","test","tokens","match","lastIndex","exec","index","trim","join","genChildren","children","map","c","code","tag","ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","createAstElement","tagName","parent","root","stack","start","attributes","element","end","last","pop","Error","chars","parserHTML","html","advance","len","substring","parseStartTag","textEnd","indexOf","startTagMatch","endTagMatch","compileToFunction","template","render","Function","patch","oldVnode","vnode","nodeType","parentElm","parentNode","elm","createElm","insertBefore","nextSibling","removeChild","document","createElement","child","appendChild","createTextNode","Watcher","fn","cb","depIds","Set","deps","has","add","appendWatcher","lifecycleMixin","Vue","_update","$el","mountComponent","updateComponent","_render","initMixin","_init","$mount","querySelector","outerHTML","undefined","createTextElement","renderMixin","_c","_v","_s","val","option"],"mappings":"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"}